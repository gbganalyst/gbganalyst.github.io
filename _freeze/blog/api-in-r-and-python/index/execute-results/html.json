{
  "hash": "a6b82046e24186379ec2afb647ce9f81",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"How to fetch API data in R and Python\"\ndescription: | \n  This tutorial will teach you how to fetch data from an external source using HTTP requests and parse the data into a usable format.\ndate: \"08-14-2024\"\ncategories: \n  - API\n  - R\n  - Python\n\nlightbox: true\n\nimage: how-api-work.jpg\n\nformat: \n  html:\n    fig-cap-location: bottom\n    include-before-body: ../../html/margin_image.html\n    include-after-body: ../../html/blog_footer.html\n    page-layout: full # custom #article,\n    code-fold: false\n#    link-external-icon: true\n#    link-external-newwindow: true\n#editor: visual\neditor: \n  markdown: \n    wrap: sentence\nexecute:\n  error: true\n  eval: false\n  echo: true #fenced\n  freeze: auto\neditor_options: \n  chunk_output_type: console\n  \nresources: \n  - \"how-api-work.jpg\"\ntwitter-card:\n  title: \"How to fetch API data in R and Python\"\n  image: \"how-api-work.jpg\"\n  image-width: \"1280\"\n  image-height: \"720\"\nopen-graph:\n  title: \"How to fetch API data in R and Python\"\n  image: \"how-api-work.jpg\" \n  image-width: \"1280\"\n  image-height: \"720\"\n---\n\n\n\n## What is an API?\n\n![Image source: Unsplash](API.jpg){style=\"float:right;\" fig-alt=\"API image\" width=\"200\"}\n\nAn API (Application Programming Interface) is a set of protocols, routines, and tools used for building software applications.\nIt is essentially a set of rules and methods that data analyst or software developers can use to interact with and access the services and features provided by another application, service or platform.\n\nIn simpler terms, an API allows different software applications to communicate with each other and share data in a standardized way.\nWith APIs, developers or analysts can get data without needing to scrape the website, manually download it, or directly go to the company from which they need it.\n\n![How API work](how-api-work.jpg){#fig-elephant fig-align=\"left\" width=\"70%\"}\n\nFor example, if you want to integrate a weather forecast feature into your app, you can use a weather API that provides the necessary data, rather than building the entire feature from scratch.\nThis allows you to focus on the unique aspects of your app, without worrying about the underlying functionality.\n\n## Type of request methods\n\n\n\n::: {.cell layout-align=\"left\"}\n::: {.cell-output-display}\n![Types of request method](image-849919650.png){#fig-api-method fig-align='left' width=488}\n:::\n:::\n\n\n\nAs shown in @fig-api-method, the most common type of API request method is `GET`.\n\n## General rules for using an API\n\nTo use an API to extract data, you will need to follow these steps:\n\n1.  Find an API that provides the data you are interested in.\n    This may involve doing some research online to find available APIs.\n\n2.  Familiarize yourself with the API's documentation to understand how to make requests and what data is available.\n\n3.  Use a programming language to write a script that sends a request to the API and receives the data.\n    Depending on the API, you may need to include authentication parameters in the request to specify the data you want to receive.\n\n4.  Parse the data you receive from the API to extract the information you are interested in.\n    The format of the data will depend on the API you are using, and may be in JSON, XML, or another format.\n\n5.  Process the extracted data in your script, or save it to a file or database for later analysis.\n\n## How to fetch API data using a programming language\n\n### with R {#sec-api-r}\n\nThere are several packages available in R for consuming APIs.\nSome of the most commonly used packages are:\n\n1.  **httr**: This package provides convenient functions for making HTTP requests and processing the responses.\n\n2.  **jsonlite**: This package is used for parsing JSON data, which is a common format for API responses.\n\n3.  **RCurl**: This package is a wrapper around the libcurl library, which is a powerful and versatile HTTP client library.\n\nTo get data from an API in R, you need to follow these steps:\n\n1.  Install the required packages by running the following command in the R console:\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"installation of packages\"}\ninstall.packages(c(\"httr\", \"jsonlite\", \"RCurl\"))\n```\n:::\n\n\n\n2.  Load the packages by running the following command:\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Loading of packages\"}\nlibrary(httr)\n\nlibrary(jsonlite)\n\nlibrary(RCurl)\n```\n:::\n\n\n\n3.  Make an API request by using the GET function from the httr package. The API endpoint should be passed as an argument to this function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresponse <- GET(\"https://api.example.com/endpoint\")\n```\n:::\n\n\n\n4.  Check the status code of the response to see if the request was successful. A status code of `200` indicates a successful request.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Request status\"}\nstatus_code <- status_code(response)\n```\n:::\n\n\n\n5.  Extract the data from the response. If the API returns data in JSON format, you can use the `fromJSON` function from the `jsonlite` package to parse the data. Store the data in a variable for later use.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Resulting dataframe\"}\napi_data <- fromJSON(content(response, as = \"text\"))\n```\n:::\n\n\n\nThese are the basic steps to get data from an API in R.\nDepending on the API, you may need to pass additional parameters or authentication information in your request.\nFor example,\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"API with access key\"}\nresponse <- GET(\n  \"https://api.example.com/endpoint\",\n  authenticate(\n    user = \"API_KEY_HERE\",\n    password = \"API_PASSWORD_HERE\",\n    type = \"basic\"\n  )\n)\n```\n:::\n\n\n\n### with Python {#sec-api-py}\n\nTo use an API in Python, you can use a library such as `requests` or `urllib` to send HTTP requests to the API and receive responses.\nHere's an example of how to use an API in Python using the requests library:\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport requests\n\n# Define the API endpoint URL and parameters\nendpoint = 'https://api.example.com/data'\n\nparams = {'param1': 'value1', 'param2': 'value2'}\n\n# Send a GET request to the API endpoint\nresponse = requests.get(endpoint, params = params)\n\n# Check if the request was successful\nif response.status_code == 200:\n    # Parse the response JSON data\n    data = response.json()\n\n    # Process the data, for example by printing it to the console\n    print(data)\nelse:\n    print(f'Error: {response.status_code}')\n```\n:::\n\n\n\nIn this example, we're using the `requests` library to send a GET request to an API endpoint at `https://api.example.com/data`, passing two parameters (`param1` and `param2`) in the request.\nThe `requests.get()` method returns a `Response` object, which we can use to check the response status code and parse the response data.\n\nIf the status code is `200`, we can assume the request was successful, and we can parse the response data using the `response.json()` method, which converts the JSON-formatted response to a Python object.\nWe can then process the data as needed, for example by printing it to the console.\n\nOf course, the exact API endpoint and parameters will depend on the specific API that you are using, and you'll need to consult the API documentation to learn how to construct your request correctly.\nBut this example should give you a sense of the general process involved in using an API in Python.\n\n## Practical example in R and Python\n\nWe will use R and Python to fetch the API data without and with the key.\n\n### Without the key\n\nIn this example, we will use an API from a site called [![](give_food.png){height=\"30\"}](https://www.givefood.org.uk/api/2/docs/) that uses an API without an API key.\nIn this case, we will be using a `GET` request to fetch the API data at the **food banks** using this link: <https://www.givefood.org.uk/api/2/foodbanks>.\nPlease follow the steps in @sec-api-r for R and @sec-api-py for Python.\n\n::: {.panel-tabset group=\"language\"}\n## R\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(httr)\n\nlibrary(jsonlite)\n\nlibrary(dplyr)\n\nresponse <- GET(\"https://www.givefood.org.uk/api/2/foodbanks\")\n\nstatus_code(response)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 200\n```\n\n\n:::\n\n```{.r .cell-code}\nfood_dataframe <- fromJSON(content(response, as = \"text\"), flatten = TRUE)\n\nfood_dataframe %>%\n  dim()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 953  27\n```\n\n\n:::\n\n```{.r .cell-code}\nfood_dataframe %>%\n  head()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"name\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"alt_name\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"slug\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"phone\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"secondary_phone\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"email\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"address\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"postcode\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"closed\"],\"name\":[9],\"type\":[\"lgl\"],\"align\":[\"right\"]},{\"label\":[\"country\"],\"name\":[10],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"lat_lng\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"network\"],\"name\":[12],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"created\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"urls.self\"],\"name\":[14],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"urls.html\"],\"name\":[15],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"urls.homepage\"],\"name\":[16],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"urls.shopping_list\"],\"name\":[17],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"charity.registration_id\"],\"name\":[18],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"charity.register_url\"],\"name\":[19],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.parliamentary_constituency\"],\"name\":[20],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.mp\"],\"name\":[21],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.mp_party\"],\"name\":[22],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.mp_parl_id\"],\"name\":[23],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"politics.ward\"],\"name\":[24],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.district\"],\"name\":[25],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.urls.self\"],\"name\":[26],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"politics.urls.html\"],\"name\":[27],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Exeter Food Bank\",\"2\":\"NA\",\"3\":\"exeter\",\"4\":\"07818226524\",\"5\":\"NA\",\"6\":\"info@exeterfoodbank.org.uk\",\"7\":\"174/175 Cowick Street\\\\r\\\\nExeter\\\\r\\\\nDevon\\\\r\\\\nEX4 1AA\",\"8\":\"EX4 1AA\",\"9\":\"FALSE\",\"10\":\"England\",\"11\":\"50.7177382,-3.5387787\",\"12\":\"Trussell\",\"13\":\"2020-01-14T16:46:05.933\",\"14\":\"https://www.givefood.org.uk/api/2/foodbank/exeter/\",\"15\":\"https://www.givefood.org.uk/needs/at/exeter/\",\"16\":\"https://exeterfoodbank.co.uk\",\"17\":\"https://exeterfoodbank.co.uk/give-help/\",\"18\":\"1128795\",\"19\":\"https://register-of-charities.charitycommission.gov.uk/charity-details/?regid=1128795&subid=0\",\"20\":\"Exeter\",\"21\":\"Simon Jupp\",\"22\":\"Conservative\",\"23\":\"4862\",\"24\":\"St Thomas\",\"25\":\"Exeter\",\"26\":\"https://www.givefood.org.uk/api/2/constituency/exeter/\",\"27\":\"https://www.givefood.org.uk/needs/in/constituency/exeter/\",\"_rn_\":\"1\"},{\"1\":\"Levenmouth Food Bank\",\"2\":\"NA\",\"3\":\"levenmouth\",\"4\":\"01333439202\",\"5\":\"07966502854\",\"6\":\"info@levenmouth.foodbank.org.uk\",\"7\":\"Methil Evangelical Church\\\\r\\\\nBowling Green Street\\\\r\\\\nMethil\\\\r\\\\nKY8 3DH\",\"8\":\"KY8 3DH\",\"9\":\"FALSE\",\"10\":\"Scotland\",\"11\":\"56.1846174,-3.0144744\",\"12\":\"Trussell\",\"13\":\"2019-12-31T01:26:58.585\",\"14\":\"https://www.givefood.org.uk/api/2/foodbank/levenmouth/\",\"15\":\"https://www.givefood.org.uk/needs/at/levenmouth/\",\"16\":\"https://levenmouth.foodbank.org.uk\",\"17\":\"https://levenmouth.foodbank.org.uk/give-help/donate-food/\",\"18\":\"SC044087\",\"19\":\"https://www.oscr.org.uk/about-charities/search-the-register/charity-details?number=SC044087\",\"20\":\"Glenrothes and Mid Fife\",\"21\":\"Peter Grant\",\"22\":\"Scottish National\",\"23\":\"4466\",\"24\":\"Buckhaven, Methil and Wemyss Villages\",\"25\":\"Fife\",\"26\":\"https://www.givefood.org.uk/api/2/constituency/glenrothes-and-mid-fife/\",\"27\":\"https://www.givefood.org.uk/needs/in/constituency/glenrothes-and-mid-fife/\",\"_rn_\":\"2\"},{\"1\":\"Himmah Food Bank\",\"2\":\"NA\",\"3\":\"himmah\",\"4\":\"01158376116\",\"5\":\"NA\",\"6\":\"info@himmah.org\",\"7\":\"Unit 2 Forest Court\\\\r\\\\nGamble Street\\\\r\\\\nRadford\\\\r\\\\nNottingham\\\\r\\\\nNG7 4EX\",\"8\":\"NG7 4EX\",\"9\":\"FALSE\",\"10\":\"England\",\"11\":\"52.95930370000001,-1.1665284\",\"12\":\"IFAN\",\"13\":\"2020-09-10T10:33:05.172\",\"14\":\"https://www.givefood.org.uk/api/2/foodbank/himmah/\",\"15\":\"https://www.givefood.org.uk/needs/at/himmah/\",\"16\":\"https://himmah.org/food\",\"17\":\"https://himmah.org/food/\",\"18\":\"1161021\",\"19\":\"https://register-of-charities.charitycommission.gov.uk/charity-details/?regid=1161021&subid=0\",\"20\":\"Nottingham East\",\"21\":\"Nadia Whittome\",\"22\":\"Labour\",\"23\":\"4869\",\"24\":\"Hyson Green & Arboretum\",\"25\":\"Nottingham\",\"26\":\"https://www.givefood.org.uk/api/2/constituency/nottingham-east/\",\"27\":\"https://www.givefood.org.uk/needs/in/constituency/nottingham-east/\",\"_rn_\":\"3\"},{\"1\":\"Renfrewshire Food Bank\",\"2\":\"NA\",\"3\":\"renfrewshire\",\"4\":\"03001022500\",\"5\":\"NA\",\"6\":\"info@renfrewshire.foodbank.org.uk\",\"7\":\"E Block Offices\\\\r\\\\nWestway\\\\r\\\\nPorterfield Road\\\\r\\\\nRenfrew\\\\r\\\\nPA4 8DJ\",\"8\":\"PA4 8DJ\",\"9\":\"FALSE\",\"10\":\"Scotland\",\"11\":\"55.87339840000001,-4.4047674\",\"12\":\"Trussell\",\"13\":\"2020-01-07T09:15:28.311\",\"14\":\"https://www.givefood.org.uk/api/2/foodbank/renfrewshire/\",\"15\":\"https://www.givefood.org.uk/needs/at/renfrewshire/\",\"16\":\"https://renfrewshire.foodbank.org.uk\",\"17\":\"https://renfrewshire.foodbank.org.uk/give-help/donate-food/\",\"18\":\"SC044200\",\"19\":\"https://www.oscr.org.uk/about-charities/search-the-register/charity-details?number=SC044200\",\"20\":\"Paisley and Renfrewshire North\",\"21\":\"Gavin Newlands\",\"22\":\"Scottish National\",\"23\":\"4420\",\"24\":\"Renfrew South and Gallowhill\",\"25\":\"Renfrewshire\",\"26\":\"https://www.givefood.org.uk/api/2/constituency/paisley-and-renfrewshire-north/\",\"27\":\"https://www.givefood.org.uk/needs/in/constituency/paisley-and-renfrewshire-north/\",\"_rn_\":\"4\"},{\"1\":\"Fareham & Gosport Basics Bank Food Bank\",\"2\":\"NA\",\"3\":\"fareham-gosport-basics-bank\",\"4\":\"07708305795\",\"5\":\"NA\",\"6\":\"enquiries@friendsofthehomeless.org.uk\",\"7\":\"Aspect House\\\\r\\\\nWestbury Road\\\\r\\\\nFareham\\\\r\\\\nHants\\\\r\\\\nPO16 7XU\",\"8\":\"PO16 7XU\",\"9\":\"FALSE\",\"10\":\"England\",\"11\":\"50.853293,-1.1799041\",\"12\":\"IFAN\",\"13\":\"2020-03-15T15:39:27.872\",\"14\":\"https://www.givefood.org.uk/api/2/foodbank/fareham-gosport-basics-bank/\",\"15\":\"https://www.givefood.org.uk/needs/at/fareham-gosport-basics-bank/\",\"16\":\"https://friendsofthehomeless.org.uk\",\"17\":\"https://friendsofthehomeless.org.uk/current-needs\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"Fareham and Waterlooville\",\"21\":\"Suella Braverman\",\"22\":\"Conservative\",\"23\":\"4475\",\"24\":\"Fareham East\",\"25\":\"Fareham\",\"26\":\"https://www.givefood.org.uk/api/2/constituency/fareham-and-waterlooville/\",\"27\":\"https://www.givefood.org.uk/needs/in/constituency/fareham-and-waterlooville/\",\"_rn_\":\"5\"},{\"1\":\"Nomad Food Bank\",\"2\":\"NA\",\"3\":\"nomad\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"info@nomadhenley.co.uk\",\"7\":\"55-57 Market Place\\\\r\\\\nHenley-on-Thames\\\\r\\\\nRG9 2AA\",\"8\":\"RG9 2AA\",\"9\":\"FALSE\",\"10\":\"England\",\"11\":\"51.5370357,-0.9069202\",\"12\":\"Independent\",\"13\":\"2024-11-26T12:55:58.127\",\"14\":\"https://www.givefood.org.uk/api/2/foodbank/nomad/\",\"15\":\"https://www.givefood.org.uk/needs/at/nomad/\",\"16\":\"https://www.nomadhenley.co.uk\",\"17\":\"https://www.nomadhenley.co.uk\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"Henley and Thame\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"NA\",\"24\":\"Henley-on-Thames\",\"25\":\"South Oxfordshire\",\"26\":\"https://www.givefood.org.uk/api/2/constituency/henley-and-thame/\",\"27\":\"https://www.givefood.org.uk/needs/in/constituency/henley-and-thame/\",\"_rn_\":\"6\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n## Python\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport requests\n\nimport pandas as pd\n\nresponse = requests.get(\"https://www.givefood.org.uk/api/2/foodbanks\")\n\n# Check if the request was successful\n\nprint(response.status_code)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> 200\n```\n\n\n:::\n\n```{.python .cell-code}\n# Parse the response JSON data\n\nfood_json = response.json()\n\n# Convert to a pandas dataframe\n\nfood_dataframe = pd.json_normalize(food_json)\n\nfood_dataframe.shape\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> (953, 27)\n```\n\n\n:::\n\n```{.python .cell-code}\nfood_dataframe.head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#>                                       name  ...                                 politics.urls.html\n#> 0                         Exeter Food Bank  ...  https://www.givefood.org.uk/needs/in/constitue...\n#> 1                     Levenmouth Food Bank  ...  https://www.givefood.org.uk/needs/in/constitue...\n#> 2                         Himmah Food Bank  ...  https://www.givefood.org.uk/needs/in/constitue...\n#> 3                   Renfrewshire Food Bank  ...  https://www.givefood.org.uk/needs/in/constitue...\n#> 4  Fareham & Gosport Basics Bank Food Bank  ...  https://www.givefood.org.uk/needs/in/constitue...\n#> \n#> [5 rows x 27 columns]\n```\n\n\n:::\n:::\n\n\n\nIn this example, we use the `pd.json_normalize()` method to flatten the list of dictionaries and create a dataframe from it.\nThe resulting dataframe has columns for each key in the JSON objects.\n:::\n\n### With the key\n\nIn this example, we will use an API from [![](image-874061681.png){width=\"156\" height=\"30\"}](https://www.reed.co.uk/developers/Jobseeker) that uses an API key.\nIn this case, we will use a `GET` request to fetch data for analyst jobs based in London from the [Jobseeker](https://www.reed.co.uk/api/1.0/search?keywords=analyst&location=london&distancefromlocation=15) API. Please follow the steps in @sec-api-r for R and @sec-api-py for Python, and sign up for the API key at the Jobseeker [website](https://www.reed.co.uk/developers/Jobseeker).\n\n::: {.panel-tabset group=\"language\"}\n## R\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(httr)\n\nlibrary(jsonlite)\n\nlibrary(dplyr)\n\n# Create a GET response to call the API\n\nresponse <- GET(\n  \"https://www.reed.co.uk/api/1.0/search?keywords=analyst&location=london&distancefromlocation=15\",\n  authenticate(\n    user = Sys.getenv(\"putyourapikeyhere\"),\n    password = \"\"\n  )\n)\n```\n:::\n\n\n\n::: callout-tip\nReplace `Sys.getenv(\"putyourapikeyhere\")` with your own API key.\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstatus_code(response)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 200\n```\n\n\n:::\n\n```{.r .cell-code}\n# Convert the JSON string to a dataframe and view data in a table\n\njob_dataframe <- fromJSON(content(response, as = \"text\"), flatten = TRUE)\n\n# The job dataframe is inside the results\n\njob_dataframe$results %>%\n  dim()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 100  15\n```\n\n\n:::\n\n```{.r .cell-code}\njob_dataframe$results %>%\n  head()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"jobId\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"employerId\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"employerName\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"employerProfileId\"],\"name\":[4],\"type\":[\"lgl\"],\"align\":[\"right\"]},{\"label\":[\"employerProfileName\"],\"name\":[5],\"type\":[\"lgl\"],\"align\":[\"right\"]},{\"label\":[\"jobTitle\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"locationName\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"minimumSalary\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"maximumSalary\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"currency\"],\"name\":[10],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"expirationDate\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"date\"],\"name\":[12],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"jobDescription\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"applications\"],\"name\":[14],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"jobUrl\"],\"name\":[15],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"54365895\",\"2\":\"387512\",\"3\":\"Compass Group UK & Ireland Ltd\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"Pricing Analyst\",\"7\":\"KT169BQ\",\"8\":\"35000\",\"9\":\"35000\",\"10\":\"GBP\",\"11\":\"06/03/2025\",\"12\":\"23/01/2025\",\"13\":\"Pricing Analyst Salary: 35,000 per annum Location: Chertsey - KT16 Are you an analytical powerhouse with a passion for turning data into impactful business decisions? Join us as a Pricing Analyst , where you'll play a critical role in shaping pricing structures and supporting growth across the business. Why Join Us? We value our team and offer a fantastic benefits package, including: Aviva DigiCare : Annual health check, Digital GP, mental healt...\",\"14\":\"1\",\"15\":\"https://www.reed.co.uk/jobs/pricing-analyst/54365895\",\"_rn_\":\"1\"},{\"1\":\"54324566\",\"2\":\"514667\",\"3\":\"Greencore\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"Demand Analyst\",\"7\":\"S802RS\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"13/02/2025\",\"12\":\"16/01/2025\",\"13\":\"Job Title : Demand Planning Analyst - Central Functions Supply Chain Location : Worksop Why Greencore? We're a leading manufacturer of convenience food in the UK and our purpose is to make everyday taste better. We're a vibrant, fast-paced leading food manufacturer. Employing 13,300 colleagues across 16 manufacturing units and 17 distribution depots across the UK. We supply all the UK's food retailers with everything from Sandwiches, soups and s...\",\"14\":\"8\",\"15\":\"https://www.reed.co.uk/jobs/demand-analyst/54324566\",\"_rn_\":\"2\"},{\"1\":\"54308441\",\"2\":\"685788\",\"3\":\"Charles Stanley & Co. Limited\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"Quality Analyst\",\"7\":\"EC2Y9LY\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"25/02/2025\",\"12\":\"14/01/2025\",\"13\":\"Are you ready to play a crucial role in enhancing the efficiency and effectiveness of our Front Office operations? We are seeking a dedicated Quality Assurance Analyst to oversee and monitor Front Office controls, ensuring robust risk management and operational excellence. Key Responsibilities: Conduct thorough file and activity reviews of Front Office teams to ensure effective risk controls and processes. Collate and evaluate management informa...\",\"14\":\"120\",\"15\":\"https://www.reed.co.uk/jobs/quality-analyst/54308441\",\"_rn_\":\"3\"},{\"1\":\"53119077\",\"2\":\"397885\",\"3\":\"bet365\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"Finance Analyst\",\"7\":\"ST15SZ\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"27/02/2025\",\"12\":\"18/07/2024\",\"13\":\"As Finance Analyst, you will provide support in the ongoing development and maintenance of the budgeting and forecasting tool, whilst also developing reports. Supporting the Senior Finance Analyst as part of the Business Planning, Analysis and Decision Support team, who are at the forefront of the change in new markets and other areas of the Business. You will be fully embedded in the development and maintenance of the new forecasting and report...\",\"14\":\"177\",\"15\":\"https://www.reed.co.uk/jobs/finance-analyst/53119077\",\"_rn_\":\"4\"},{\"1\":\"54326520\",\"2\":\"468911\",\"3\":\"Footasylum\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"Data Analyst\",\"7\":\"OL111RY\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"27/02/2025\",\"12\":\"16/01/2025\",\"13\":\"Description Having recently migrated our Data tech stack at Footasylum on to Azure Databricks and Power BI from SQL Server and SSRS, we have a large suite of reports which surface the data that the business needs to answer their key questions.&nbsp; Data plays a key part in our organisation and in order to make data driven decisions, we need an analyst who can take results from Power BI reports and use the data warehouse to delve deeper and prov...\",\"14\":\"96\",\"15\":\"https://www.reed.co.uk/jobs/data-analyst/54326520\",\"_rn_\":\"5\"},{\"1\":\"53992047\",\"2\":\"388090\",\"3\":\"GXO Logistics\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"MI Analyst\",\"7\":\"Bradford\",\"8\":\"26000\",\"9\":\"30000\",\"10\":\"GBP\",\"11\":\"13/02/2025\",\"12\":\"08/11/2024\",\"13\":\"Do you enjoy being the person everyone turns to? Are you able to collaborate with multiple stakeholders, supporting them with analysis and interpretation? Would you relish the opportunity to influence high level decision making?&nbsp;You’ll feel fulfilled as a member of our busy MI Team! GXO are looking for an MI Analyst to join us on our flagship M&amp;S Clothing and Home site based in Bradford. Here you will support our customer’s orders fulfi...\",\"14\":\"107\",\"15\":\"https://www.reed.co.uk/jobs/mi-analyst/53992047\",\"_rn_\":\"6\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n## Python\n\n\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport requests\n\nimport pandas as pd\n\n# Set API endpoint and API key\n\nurl = \"https://www.reed.co.uk/api/1.0/search?keywords=analyst&location=london&distancefromlocation=15\"\n\napi_key = \"replace with your own API key\" \n```\n:::\n\n\n\nBased on the instructions in the API documentation, you will need to include your API key for all requests in a basic authentication http header as the username, leaving the password empty.\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\n# Send a GET request to the API endpoint\n\nresponse = requests.get(url, auth = (api_key, ''))\n```\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\n# Check if the request was successful\n\nprint(response.status_code)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> 200\n```\n\n\n:::\n\n```{.python .cell-code}\n# Parse the response JSON data\n\njob_json = response.json()\n\n# Convert to a pandas dataframe\n\n# The dataframe is inside the results\n\njob_dataframe = pd.json_normalize(job_json[\"results\"])\n\njob_dataframe.shape\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> (100, 15)\n```\n\n\n:::\n\n```{.python .cell-code}\njob_dataframe.head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#>       jobId  ...                                             jobUrl\n#> 0  54365895  ...  https://www.reed.co.uk/jobs/pricing-analyst/54...\n#> 1  54324566  ...  https://www.reed.co.uk/jobs/demand-analyst/543...\n#> 2  53119077  ...  https://www.reed.co.uk/jobs/finance-analyst/53...\n#> 3  54308441  ...  https://www.reed.co.uk/jobs/quality-analyst/54...\n#> 4  54326520  ...  https://www.reed.co.uk/jobs/data-analyst/54326520\n#> \n#> [5 rows x 15 columns]\n```\n\n\n:::\n:::\n\n\n:::\n\nYou can now use the data for your data science.\n\n## Other resources\n\nYou can also watch `Dean Chereden` YouTube video on how to GET data from an API using R in RStudio.\n\n\n\n{{< video https://www.youtube.com/watch?v=AhZ42vSmDmE&list=PLfXinLezajxuWY8QyhQ7joAC8bL_dz1pd&index=7 aspect-ratio=\"16x9\" >}}\n\n\n\n\n------------------------------------------------------------------------\n\nI hope you found this article informative.\nYou can find its GitHub repository [here](https://github.com/gbganalyst/API-in-R-and-Python).\nIf you enjoyed reading this write-up, please follow me on [Twitter](https://twitter.com/gbganalyst) and [Linkedin](https://linkedin.com/in/ezekiel-ogundepo) for more updates on `R`, `Python`, and `Excel` for data science.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}